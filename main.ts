controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    mr_pac.setVelocity(0, 0 - spd)
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    mr_pac.setVelocity(0 - spd, 0)
})
function move_food (food: Sprite) {
    food.y = randint(0, scene.screenHeight())
    food.x = randint(0, scene.screenWidth())
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    mr_pac.setVelocity(spd, 0)
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    mr_pac.setVelocity(0, spd)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    move_food(otherSprite)
    music.baDing.playUntilDone()
})
let spd = 0
let mr_pac: Sprite = null
music.setVolume(255)
mr_pac = sprites.create(img`
    . . 5 5 5 5 5 5 5 . . 
    . 5 5 5 5 5 2 5 2 5 . 
    5 5 5 5 5 5 5 5 5 . . 
    5 5 5 5 5 5 5 . . . . 
    5 5 5 5 5 . . . . . . 
    5 5 5 5 . . . . . . . 
    5 5 5 5 . . . . . . . 
    5 5 5 5 5 5 . . . . . 
    5 5 5 5 5 5 5 5 5 . . 
    . 5 5 5 5 5 5 5 5 5 . 
    . . 5 5 5 5 5 5 5 . . 
    `, SpriteKind.Player)
scene.setBackgroundImage(img`
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    `)
spd = 45
let dot = sprites.create(img`
    . 1 . 
    1 1 1 
    . 1 . 
    `, SpriteKind.Food)
tiles.setTilemap(tiles.createTilemap(hex`1e001e00010101010101010101010101010101010101010101010101010101010101010202020202020202020202020202020202020202020202020202020201010202010101010101010101010101010101010101010101010101020201010201020202020202020202020202020202020202020202020202010201010201020101010101020201010101010101010202010101010102010201010201020102020202020202020202020202020202020202020102010201010201020102010202010101010101010101010101020201020102010201010201020102020202020202020202020202020202020202020102010201010201020102020202020202020202020202020202020202020102010201010201020102010201010101020201010202010101010201020102010201010202020102010202020202020202020202020202020201020102010201010202020102010202020201010101010101010202020201020102010201010201020102010201020201020202020202010202010201020102010201010201020102010201020201020102020102010202010201020102010201010201020102020201020202020103040102020202010201020202010201010201020102020201020202020103030102020202010201020202010201010201020102010201020201020102020102010202010201020102010201010201020102010201020201020202020202010202010201020102010201010202020102010202020201010101010101010202020201020102010201010202020102010202020202020202020202020202020201020102010201010201020102010201010101020201010202010101010201020102010201010201020102020202020202020202020202020202020202020102010201010201020102020202020202020202020202020202020202020102010201010201020102010202010101010101010101010101020201020102010201010201020102020202020202020202020202020202020202020102010201010201020101010101020201010101010101010202010101010102010201010201020202020202020202020202020202020202020202020202010201010202010101010101010101010101010101010101010101010101020201010202020202020202020202020202020202020202020202020202020201010101010101010101010101010101010101010101010101010101010101`, img`
    222222222222222222222222222222
    2............................2
    2..222222222222222222222222..2
    2.2........................2.2
    2.2.22222..22222222..22222.2.2
    2.2.2....................2.2.2
    2.2.2.2..222222222222..2.2.2.2
    2.2.2....................2.2.2
    2.2.2....................2.2.2
    2.2.2.2.2222..22..2222.2.2.2.2
    2...2.2................2.2.2.2
    2...2.2....22222222....2.2.2.2
    2.2.2.2.2..2......2..2.2.2.2.2
    2.2.2.2.2..2.2..2.2..2.2.2.2.2
    2.2.2...2....2..2....2.2...2.2
    2.2.2...2....2..2....2.2...2.2
    2.2.2.2.2..2.2..2.2..2.2.2.2.2
    2.2.2.2.2..2......2..2.2.2.2.2
    2...2.2....22222222....2.2.2.2
    2...2.2................2.2.2.2
    2.2.2.2.2222..22..2222.2.2.2.2
    2.2.2....................2.2.2
    2.2.2....................2.2.2
    2.2.2.2..222222222222..2.2.2.2
    2.2.2....................2.2.2
    2.2.22222..22222222..22222.2.2
    2.2........................2.2
    2..222222222222222222222222..2
    2............................2
    222222222222222222222222222222
    `, [myTiles.transparency16,myTiles.tile2,myTiles.tile3,myTiles.tile1,myTiles.tile4], TileScale.Sixteen))
move_food(dot)
move_food(dot)
scene.cameraFollowSprite(mr_pac)
tiles.placeOnRandomTile(mr_pac, myTiles.tile1)
mr_pac.setFlag(SpriteFlag.StayInScreen, true)
forever(function () {
    mr_pac.setImage(img`
        . . 5 5 5 5 5 5 5 . . 
        . 5 5 5 5 5 2 5 2 5 . 
        5 5 5 5 5 5 5 5 5 . . 
        5 5 5 5 5 5 5 . . . . 
        5 5 5 5 5 . . . . . . 
        5 5 5 5 . . . . . . . 
        5 5 5 5 . . . . . . . 
        5 5 5 5 5 5 . . . . . 
        5 5 5 5 5 5 5 5 5 . . 
        . 5 5 5 5 5 5 5 5 5 . 
        . . 5 5 5 5 5 5 5 . . 
        `)
    pause(100)
    mr_pac.setImage(img`
        . . 5 5 5 5 5 5 5 . . 
        . 5 5 5 5 5 2 5 2 5 . 
        5 5 5 5 5 5 5 5 5 5 . 
        5 5 5 5 5 5 5 5 5 5 . 
        5 5 5 5 5 5 5 . . . . 
        5 5 5 5 5 5 . . . . . 
        5 5 5 5 5 5 5 5 . . . 
        5 5 5 5 5 5 5 5 5 . . 
        5 5 5 5 5 5 5 5 5 5 . 
        . 5 5 5 5 5 5 5 5 5 . 
        . . 5 5 5 5 5 5 5 . . 
        `)
    pause(100)
    mr_pac.setImage(img`
        . . 5 5 5 5 5 5 5 . . 
        . 5 5 5 5 5 2 5 2 5 . 
        5 5 5 5 5 5 5 5 5 5 . 
        5 5 5 5 5 5 5 5 5 5 . 
        5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 
        5 5 5 5 5 5 5 5 5 5 5 
        . 5 5 5 5 5 5 5 5 5 . 
        . . 5 5 5 5 5 5 5 . . 
        `)
    pause(100)
    mr_pac.setImage(img`
        . . 5 5 5 5 5 5 5 . . 
        . 5 5 5 5 5 2 5 2 5 . 
        5 5 5 5 5 5 5 5 5 5 . 
        5 5 5 5 5 5 5 5 5 5 . 
        5 5 5 5 5 5 5 . . . . 
        5 5 5 5 5 5 . . . . . 
        5 5 5 5 5 5 5 5 . . . 
        5 5 5 5 5 5 5 5 5 . . 
        5 5 5 5 5 5 5 5 5 5 . 
        . 5 5 5 5 5 5 5 5 5 . 
        . . 5 5 5 5 5 5 5 . . 
        `)
    pause(100)
    mr_pac.setImage(img`
        . . 5 5 5 5 5 5 5 . . 
        . 5 5 5 5 5 2 5 2 5 . 
        5 5 5 5 5 5 5 5 5 . . 
        5 5 5 5 5 5 5 . . . . 
        5 5 5 5 5 . . . . . . 
        5 5 5 5 . . . . . . . 
        5 5 5 5 . . . . . . . 
        5 5 5 5 5 5 . . . . . 
        5 5 5 5 5 5 5 5 5 . . 
        . 5 5 5 5 5 5 5 5 5 . 
        . . 5 5 5 5 5 5 5 . . 
        `)
    pause(100)
})
forever(function () {
    music.playMelody("C G F E C5 C5 C F ", 300)
    music.playMelody("C - G G F F E - ", 300)
})
